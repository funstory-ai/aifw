<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneAIFW - 隐私保护防火墙</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-shield-alt me-2"></i>OneAIFW
            </a>
            <span class="navbar-text me-auto">
                本地轻量级AI防火墙
            </span>
            <a href="https://github.com/funstory-ai/aifw" target="_blank" class="github-btn">
                <i class="fab fa-github"></i>
                <span class="github-text">GitHub</span>
                <span class="github-stars" id="githubStars">
                    <i class="fas fa-star"></i>
                    <span class="star-count">-</span>
                </span>
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- 项目介绍 -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h2 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>项目介绍
                        </h2>
                    </div>
                    <div class="card-body">
                        <p class="lead">OneAIFW 是一款本地轻量级 AI 防火墙，能够在用户调用外部大模型 API 时，为敏感信息提供安全防护，避免隐私或机密数据的泄露。</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5><i class="fas fa-shield-alt text-primary me-2"></i>工作原理</h5>
                                <p>OneAIFW 在调用者和被调用者之间充当透明代理，先对敏感数据进行匿名化处理，然后在模型响应后恢复原始数据。</p>
                                
                                <!-- 工作原理动画 -->
                                <div class="workflow-animation mt-3">
                                    <div class="workflow-step" data-step="1">
                                        <div class="step-icon">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <div class="step-content">
                                            <h6>用户</h6>
                                            <p id="userText">发送敏感数据</p>
                                        </div>
                                    </div>
                                    
                                    <div class="workflow-arrow" id="arrow1">
                                        <i class="fas fa-arrow-right"></i>
                                    </div>
                                    
                                    <div class="workflow-step" data-step="2">
                                        <div class="step-icon">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <div class="step-content">
                                            <h6>AI防火墙</h6>
                                            <p id="firewallText">匿名化处理</p>
                                        </div>
                                    </div>
                                    
                                    <div class="workflow-arrow" id="arrow2">
                                        <i class="fas fa-arrow-right"></i>
                                    </div>
                                    
                                    <div class="workflow-step" data-step="3">
                                        <div class="step-icon">
                                            <i class="fas fa-robot"></i>
                                        </div>
                                        <div class="step-content">
                                            <h6>LLM</h6>
                                            <p id="llmText">处理安全数据</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-3">
                                    <button type="button" class="btn btn-outline-primary btn-sm" id="startAnimation">
                                        <i class="fas fa-play me-2"></i>观看动画演示
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5><i class="fas fa-lock text-success me-2"></i>保护内容</h5>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success me-2"></i>物理地址</li>
                                    <li><i class="fas fa-check text-success me-2"></i>邮箱地址</li>
                                    <li><i class="fas fa-check text-success me-2"></i>姓名（可选）</li>
                                    <li><i class="fas fa-check text-success me-2"></i>电话号码</li>
                                    <li><i class="fas fa-check text-success me-2"></i>银行账户</li>
                                    <li><i class="fas fa-check text-success me-2"></i>支付信息</li>
                                    <li><i class="fas fa-check text-success me-2"></i>验证码</li>
                                    <li><i class="fas fa-check text-success me-2"></i>密码</li>
                                    <li><i class="fas fa-check text-success me-2"></i>私钥</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 功能演示区域 -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h3 class="mb-0">
                            <i class="fas fa-magic me-2"></i>隐私保护演示
                        </h3>
                    </div>
                    <div class="card-body">
                        <!-- 输入区域 -->
                        <div class="mb-4">
                            <label for="inputText" class="form-label">
                                <i class="fas fa-edit me-2"></i>输入要处理的文本：
                            </label>
                            <textarea class="form-control" id="inputText" rows="4" 
                                placeholder="请输入包含敏感信息的文本，例如：我的邮箱是 test@example.com，电话号码是 13812345678，银行卡号是 6222021234567890">
我的邮箱是 test@example.com，电话号码是 13812345678，银行卡号是 6222021234567890</textarea>
                        </div>

                        <!-- 语言选择 -->
                        <div class="mb-4">
                            <label for="languageSelect" class="form-label">
                                <i class="fas fa-globe me-2"></i>语言选择：
                            </label>
                            <select class="form-select" id="languageSelect">
                                <option value="en">English</option>
                                <option value="zh" selected>中文</option>
                            </select>
                        </div>

                        <!-- 操作按钮 -->
                        <div class="mb-4">
                            <button type="button" class="btn btn-primary me-2" id="analyzeBtn">
                                <i class="fas fa-search me-2"></i>分析敏感信息
                            </button>
                            <button type="button" class="btn btn-warning me-2" id="maskBtn">
                                <i class="fas fa-mask me-2"></i>匿名化处理
                            </button>
                            <button type="button" class="btn btn-info me-2" id="restoreBtn" disabled>
                                <i class="fas fa-undo me-2"></i>恢复原文
                            </button>
                            <button type="button" class="btn btn-secondary" id="clearBtn">
                                <i class="fas fa-trash me-2"></i>清空
                            </button>
                        </div>

                        <!-- 结果显示区域 -->
                        <div class="row">
                            <div class="col-md-6">
                                <h5><i class="fas fa-file-text me-2"></i>原始文本</h5>
                                <div class="border rounded p-3 bg-light" id="originalText" style="min-height: 100px;">
                                    点击"分析敏感信息"或"匿名化处理"按钮开始...
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5><i class="fas fa-eye-slash me-2"></i>处理结果</h5>
                                <div class="border rounded p-3 bg-light" id="processedText" style="min-height: 100px;">
                                    处理结果将显示在这里...
                                </div>
                            </div>
                        </div>

                        <!-- 敏感信息详情 -->
                        <div class="mt-4" id="entitiesSection" style="display: none;">
                            <h5><i class="fas fa-list me-2"></i>检测到的敏感信息</h5>
                            <div class="table-responsive">
                                <table class="table table-sm table-striped">
                                    <thead>
                                        <tr>
                                            <th>类型</th>
                                            <th>内容</th>
                                            <th>位置</th>
                                            <th>置信度</th>
                                        </tr>
                                    </thead>
                                    <tbody id="entitiesTable">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- 占位符映射 -->
                        <div class="mt-4" id="placeholdersSection" style="display: none;">
                            <h5><i class="fas fa-key me-2"></i>占位符映射</h5>
                            <div class="table-responsive">
                                <table class="table table-sm table-striped">
                                    <thead>
                                        <tr>
                                            <th>占位符</th>
                                            <th>原始值</th>
                                        </tr>
                                    </thead>
                                    <tbody id="placeholdersTable">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 状态指示器 -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info" id="statusAlert" style="display: none;">
                    <i class="fas fa-spinner fa-spin me-2"></i>
                    <span id="statusText">处理中...</span>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2025 OneAIFW - 保护您的隐私，安全使用 AI</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
